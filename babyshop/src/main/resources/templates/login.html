<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- cdn boostrap-->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
	integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
	crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="../css/style.css">
<!--login css-->

<link rel="stylesheet" type="text/css" href="../css/login.css">
<!-- cdn fown awe some-->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
	integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
	crossorigin="anonymous" referrerpolicy="no-referrer" />
<title>Baby Shop</title>
</head> 

<body>
	<div th:if="${openTab2}">
		<script th:inline="javascript">
			window.onload = function() {
				showTab(event, '2');
			};
		</script>
	</div>
	<!-- nav - bar -->
	<div th:insert="home :: navbar"></div>
	<div class="discount">
		<div class="d-flex">
			<a class="flex-fill banner-top" href="#">20-50% off selected
				Everyday wear <span>SHOP HERE</span>
			</a> <a class="flex-fill banner-top" href="#">Splash into summer - Up
				to 50%<span>SHOP HERE</span>
			</a>
		</div>
	</div>
	<!-- login form-->
	<!--notification -->
	<div id="notice-container"></div>
	<div class="container mx-auto login-form">
		<main class="auth">
			<div class="tabs">
				<ul class="tabs__list" role="tablist">
					<li role="presentation"><a href="#1" id="1-tab"
						class="tabs__tab is-selected" role="tab" aria-selected="true"
						onclick="showTab(event, '1')">Login</a></li>
					<li role="presentation"><a href="#2" id="2-tab"
						class="tabs__tab " role="tab" aria-selected="false"
						onclick="showTab(event, '2')">Register</a></li>
				</ul>
				<section id="1" class="tabs__panel">
					<!--login form -->
					<main class="auth-login">
						<form action="/login" method="post"
							class="auth_form js-auth-form">
							<div class="field">
								<label for="email-login" class="field__label">Email
									address</label> <input type="text" id="email-login" name="username"
									class="field__input" placeholder="Email" required>
							</div>
							<div class="field">
								<label for="password-login" class="field__label">Password</label>
								<input type="password" id="password-login" name="password"
									class="field__input" placeholder="Password" required>
							</div>
							<div class="field">
								<button class="btn-login" type="submit">
									<span>Login</span>
								</button>
							</div>
						</form>
						<div class="auth__links">
						<a th:href="@{/oauth2/authorization/google}" class="auth__link"
								style="text-decoration: underline;">Login with google</a></br>
							<a href="forgotpassword" class="auth__link"
								style="text-decoration: underline;">Forgot password?</a>
						</div>
					</main>
				</section>
				<section id="2" class="tabs__panel hidden-tab">
					<!-- register form-->
					<main class="auth-register">
						<form action="/register" method="post" class="auth_form password-form">

							<!--email-->
							<div style="color: red;" th:if = "${error_otp}">Error OTP</div>
							<div class="field phoneNumber">
								<label for="phoneNumber" class="field__label">
									<div id="phoneOrMaiExists" style="color: red; display: none;">Phone or Email exists</div>
								</label> <input type="text" id="phoneNumber"
									 name="phoneNumber" class="field__input" th:value = "${session.phoneOrMail}"
									 required="" placeholder="Phone Number or Email ">
								<div id="recaptcha-container"></div>
								<span class="sendOTP" onclick="sendOtp()">Send OTP</span>
							</div>
							<!--otp-->
							
							<div class="field field_otp" style="display: none;">
								<div id="opt_err" style="display: none; color: red;">Exceeded the number of otp entries.</div>
								<label for="otpValue" class="field__label">OTP
									verification code</label> <input type="text" id="otpValue"
									name="otpValue" class="field__input" placeholder="Enter OTP"
									maxlength="6">
							</div>
							<!--password-->
							<div class="field field_pass" style="display: none;">
								<label for="password" class="field__label">Password</label> <input
									type="password" id="password" name="password" pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,16}$"
									class="field__input" required="" placeholder="Enter password">
								<p class="error-message" hidden="true">The new passwords you
									entered do not match.</p>
							</div>
							<!--re-password-->
							<!-- <div class="field field_pass" style="display: none;">
								<label for="passwordRepeat" class="field__label">Repeat
									password</label> <input type="password" id="passwordRepeat"
									name="passwordRepeat" class="field__input" required=""
									placeholder="Enter repeat password">
								<p class="error-message" hidden="true">The new passwords you
									entered do not match.</p>
							</div> -->
							<!--regiester-->
							<div class="field field_register" style="display: none;">
								<button class="btn-login" type="submit">
									<span>Register account</span>
								</button>
							</div>

							<!-- register with google-->
						</form>
					</main>
				</section>
			</div>
		</main>
	</div>
	<div th:insert="home :: footer"></div>
	<script
		src="https://www.gstatic.com/firebasejs/9.12.1/firebase-app-compat.js"></script>
	<script
		src="https://www.gstatic.com/firebasejs/9.12.1/firebase-auth-compat.js"></script>
	<script src="../js/login.js"></script>
</body>

</html>